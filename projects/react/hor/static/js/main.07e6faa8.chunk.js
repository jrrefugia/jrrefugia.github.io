(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(35)},29:function(e,t,a){},30:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),s=a.n(l),i=a(12),c=a(5),o=(a(29),a(8)),m=a(9),u=a(13),f=a(11),d=a(10),b=a(14);a(30);var h=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(i.b,{to:"/member/"+e._id},e.officialName)),r.a.createElement("td",null,e.active),r.a.createElement("td",null,e.status))};var p=function(e){return r.a.createElement("tbody",null,e.members.map(function(e){return r.a.createElement(h,Object.assign({key:e._id},e))}))};var v=function(e){var t=[];e.options.forEach(function(e){return t.push(r.a.createElement("option",{key:e,value:e},e))});var a=function(e){var t=e.split(""),a="",n="uppercase";for(var r in t){var l=t[r];"0"===r&&(l=l.toUpperCase()),"lowercase"===n&&l===l.toUpperCase()&&(a+=" "),n=l===l.toUpperCase()?"uppercase":"lowercase",a+=l}return a}(e.id);return r.a.createElement("div",null,r.a.createElement("label",null,a,": "),r.a.createElement("select",{name:e.id,onChange:e.onChange},r.a.createElement("option",{value:""},"Please Select"),t))};var E=function(e){var t=[];for(var a in e.filters)t.push(r.a.createElement(v,{key:a,id:a,options:e.filters[a],onChange:e.onChange}));return r.a.createElement("form",null,t)},g=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).state={members:[],tableHeaders:null,visibleFields:["officialName","active","status"],filters:{}},a.membersData=[];return["handleChange"].forEach(function(e){return a[e]=a[e].bind(Object(d.a)(a))}),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://clerkapi.azure-api.net/Members?key=da13cc0dce344b3fa36b500e01602df8").then(function(e){return e.json()}).then(function(t){e.membersData=t.results;var a=[],n={},l=function(t){var a=e.membersData[t];for(var n in a)e.state.visibleFields.includes(n)||"_id"===n||delete a[n];var r={_id:a._id};e.state.visibleFields.forEach(function(e){return r[e]=a[e]}),e.membersData[t]=r};for(var s in e.membersData)l(s);for(var i in e.state.visibleFields.forEach(function(e){a.push(r.a.createElement("th",{key:e},e))}),e.membersData[0]){var c={},o=[];for(var s in e.membersData){var m=e.membersData[s][i];c.hasOwnProperty(m)||""===m||(c[m]="",o.push(m))}!i.match(/(date|name|id$)/gi)&&o.length>1&&(n[i]=o,n[i].onChange=e.handleChange)}e.setState({members:e.membersData}),e.setState({filters:n}),e.setState({tableHeaders:a})})}},{key:"handleChange",value:function(e){for(var t=this,a=e.target.closest("form").querySelectorAll("select"),n=this.membersData,r=function(e){var r=a[e];n=n.filter(function(e){return function(e){return""===r.value||e[r.name]===r.value}.call(t,e)})},l=0;l<a.length;l++)r(l);this.setState(function(e){return{members:n}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Members"),r.a.createElement("div",{style:{border:"1px solid #ccc"}},"Filters:",r.a.createElement(E,{filters:this.state.filters,onChange:this.handleChange})),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,this.state.tableHeaders)),r.a.createElement(p,{members:this.state.members})))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).state={membersData:[],outputTemplate:[],currentVoteResults:0},a.params=a.props.match.params,a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchMemberData()}},{key:"fetchMemberData",value:function(){var e=this;fetch("https://clerkapi.azure-api.net/Members?key=da13cc0dce344b3fa36b500e01602df8").then(function(e){return e.json()}).then(function(t){e.setState({membersData:t.results.filter(function(t){return t._id===e.params.id})[0]});var a=[];a.push(r.a.createElement("div",{key:"status"},"Status: ",""==e.state.membersData.status?"Active":e.state.membersData.status,r.a.createElement("br",null),r.a.createElement("br",null)));var n=e.state.membersData.congresses;for(var l in n){a.push(r.a.createElement("div",{key:"congress"+l},r.a.createElement("strong",null,n[l].congressNum,r.a.createElement("sup",null,"th")," Congress"),r.a.createElement("br",null),n[l].chamber," ",n[l].position,r.a.createElement("br",null),n[l].stateCode," ",n[l].stateDistrict," District ",r.a.createElement("br",null),"Elected: ",n[l].electionMonth,"/",n[l].electionDay,"/",n[l].electionYear));var s=n[l].caucusAffiliations;for(var i in s)a.push(r.a.createElement("div",{key:"caucus"+i},r.a.createElement("strong",null,r.a.createElement("br",null),"Caucus Affiliations:",r.a.createElement("br",null)),s[i].name));for(var c in s=n[l].partyAffiliations)a.push(r.a.createElement("div",{key:"party"+c},r.a.createElement("strong",null,r.a.createElement("br",null),"Party Affiliations:",r.a.createElement("br",null)),s[c].name));for(var o in s=n[l].committeeAssignments,n[l].committeeAssignments)if(""!==s[o].committeeName){var m=o>0?[]:[r.a.createElement("strong",{key:"title"},r.a.createElement("br",null),"Committee Assignments:",r.a.createElement("br",null))];a.push(r.a.createElement("div",{key:"committee"+o},m,s[o].committeeName))}for(var u in s=n[l].subCommitteeAssignments,n[l].subCommitteeAssignments){var f=u>0?[]:[r.a.createElement("strong",{key:"title"},r.a.createElement("br",null),"Sub-committee Assignments:",r.a.createElement("br",null))];a.push(r.a.createElement("div",{key:"subcommittee"+u},f,s[u].subCommitteeName))}}for(var d in n=e.state.membersData.addresses)"DCOffice"===n[d].name&&a.push(r.a.createElement("div",{key:"address"+d},r.a.createElement("strong",null,r.a.createElement("br",null),"Address:",r.a.createElement("br",null)),n[d].streetAddress,r.a.createElement("br",null),n[d].addressLocality,", ",n[d].addressRegion," ",n[d].postalCode,r.a.createElement("br",null),n[d].telephone));console.log(e.state.membersData),e.setState({outputTemplate:a})}),this.fetchMemberVoteData("https://clerkapi.azure-api.net/Votes?$filter=members/usCongressBio eq 'A000374' and superEvent/superEvent/congressNum eq '116' and voteType eq 'YEA-AND-NAY'&key=da13cc0dce344b3fa36b500e01602df8&$skip=0")}},{key:"fetchMemberVoteData",value:function(e){var t=this;fetch(e).then(function(e){return e.json()}).then(function(e){var a=[];t.setState({currentVoteResults:e.pagination.page*e.pagination.per_page}),a.push(r.a.createElement("h2",{key:"votes"},"Voting History")),e.results.forEach(function(e){var n=e.members.filter(function(e){return e.usCongressBio===t.params.id})[0];if(!n)return!1;var l=e.description?[r.a.createElement("span",{key:"desc"},"(",e.description,").")]:[];a.push(r.a.createElement("div",{key:e._id},r.a.createElement("em",null,function(e){var t=new Date(e.replace(/\.000$/gi,"Z"));return t.getUTCMonth()+1+"/"+t.getUTCDate()+"/"+t.getUTCFullYear()}(e.endDate)),': Voted "',r.a.createElement("strong",null,n.vote),'" ',e.name,". ",l,r.a.createElement("br",null),r.a.createElement("br",null)))}),t.setState(function(e){return{outputTemplate:e.outputTemplate.concat(a)}})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.membersData.officialName),r.a.createElement("div",null,this.state.outputTemplate))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(c.a,{exact:!0,path:"/",component:g}),r.a.createElement(c.a,{path:"/member/:id",component:y})));s.a.render(k,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.07e6faa8.chunk.js.map